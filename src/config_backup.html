<head>
  <title>Time Config</title>
  <script src="./assets/jquery.js"></script>
<style>
    input {
    width: 60px;
    }

    .halfDiv {
    width: 40%;
    float:left;
    }
    .halfDiv.random {
    width: 20%;
    float:left;
    }

    .halfUnder {
    width:50%;
    float:left;
    }

    input[type="checkbox"] {
    margin:0px;
    }

    .outer3 {
    width: 100%;
    
    }

    .outer2 {
    width: 100%;
    float:left;
    }
    .smallFieldset {
    width: 25%;
    float:left;
    }

    .fullwidthFileset {
    width: 100%;
    float: left;
    }
    .con {
    width:32%;
    float:left;
    }

    .weld1, .weld2, .weld3 {
    width: auto;
    float: left;
    }

    button {
  width: 150px;
  background: blue;
  color: white;
}

.buttonContainer {
  float:left;
}

</style>

<link rel="stylesheet" href="./images/style2.css" />
</head>
<div class="settingsScreen">
    <div class="menu">
      <ul>
        <li> <a href="dashboard.html">Timer</a> </li>
        <li> <a href="logdata.html">LogData</a> </li>
        <li> <a href="diagnosis.html">Diagnosis</a> </li>
        <li><a href="user.html"> User Administration</a> </li>
        <li><a href="settings.html"> Settings</a> </li>
        <li><a href="info.html"> Help</a> </li>
        <li><a href="global.html">Global settings</a></li>
      <ul>
        </div>
  </div>
<div class="outer">
    <div class="halfDiv">
    <p>Suggestion window parameter</p>
    <fieldset style="">
      <legend>Selectable Parameters</legend>
        
        Sheet Type
        <select name="sheetType" id="sheetType">
          <option>--select--</option>
          <option value="1">Mild Sheet</option>
          <option value="2">GI Sheet</option>
        </select>

        Sheet Thickness
        <select name="thickness" id="thickness">
          <option>--select--</option>
        </select>
        
        Welding Class
        <select>
          <option>A</option>
        </select>
        
    </fieldset>
    <fieldset style="">
      <legend>Result Parameter</legend>
      <div class="halfUnder">
        <table>
            <tr>
                <th>Current KA:</th>
                <th><input type="text" id="current"/></th>
            </tr>
            <tr>
                <th>Weld time:</th>
                <th><input type="text" id="weldTime" /></th>
            </tr>
            <tr>
                <th>Force KGN:</th>
                <th><input type="text" id="force"/></th>
            </tr>
            <tr>
                <th>Tear Strength Kg</th>
                <th><input type="text" id="teatStrength"/></th>
            </tr>
        </table>
      </div>
      <div class="halfUnder">
        <table>
            <tr>
                <th>Wedding Nugget mm</th>
                <th><input type="number" id="Nugget" value="3.5" /></th>
            </tr>
            <tr>
                <th>Electron Diameter mm</th>
                <th><input type="number" id="Electron" value="4.8" /></th>
            </tr>
            <tr>
                <th>Min. spots Distance mm</th>
                <th><input type="number" id="minSpot" value="9" /></th>
            </tr>
            <tr>
                <th>Min. sheet overlap  mm</th>
                <th><input type="number" id="minSheetOverlap" value="11" /></th>
            </tr>
        </table>
      </div>
    </fieldset>
    </div>
    <div class="halfDiv">
      <fieldset>
        <legend>Program Selection</legend>
        <table style="width:100%;height:220px">
        <tr>
            <th>Program No: 
                <select><option></option></select></th>
            <th>Program Name:
                <input type="text" /></th>
            <th>Gun No:
                <input type="number" /></th>
        </tr>
        <tr>
            <th><input type="checkbox" />
                Weld:</th>
            <th><input type="checkbox" />
                Re-Weld Schedule</th>
            <!-- <th><input type="checkbox" />
                Time Monitoring</th> -->
        </tr>        
        <tr>
            <th>Schedule
                <select>
                    <option value="single">Single</option>
                    <option value="repeat">Repeat</option>
                    <option value="seam">Seam</option></select></th>
            <th>Reweld Factor
                <select>
                  <option></option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                  <option>6</option>
                  <option>7</option>
                  <option>8</option>
                  <option>9</option>
                </select></th>
            <th>Impulse
                <select>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                  <option>6</option>
                  <option>7</option>
                  <option>8</option>
                  <option>9</option>
                  <option>10</option>
                  <option>11</option>
                  <option>12</option>
                  <option>13</option>
                  <option>14</option>
                  <option>15</option>
                  <option>16</option>
                </select></th>
        </tr>
    
        <tr>
            <th>Monitoring
                <select id="monitoring"><option>standard</option><option>Miix</option></select></th>
            <th>Base Selection Value
                <input type="number" max="10" min="0"/></th>
            <th>Mode of selection
                <select><option>KSR</option><option>TSA</option></select></th>
        </tr>        
        </table>
      </fieldset>
    </div>
    <div class="halfDiv random">
        <table style="width:100%;text-align:center;margin-top:100px">
            <tr>
                <td>Global Count</td><td><input type="text" /></td>
            </tr>
            <tr>
                <td>Spot Count</td><td><input type="text" /></td>
            </tr>
            <tr>
                <td>Job Count</td><td><input type="text" /></td>
            </tr>
        </table>      
    </div>
  </div>
  <div class="outer2">
    <fieldset>
      <legend>Program Parameters</legend>
      <div class="con">
      <div class="fullwidthFileset">
      <fieldset class="smallFieldset">
        <legend>Prev. Squeeze</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Up Slope</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Weld</legend>
        T (ms) <input type="number" />
      </fieldset>
      </div>
      <div class="fullwidthFileset">
      <fieldset class="smallFieldset">
        <legend>Prev. Squeeze</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Up Slope</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Weld</legend>
        T (ms) <input type="number" />
      </fieldset>
      </div>
      </div>
      <div class="con">
        <div class="fullwidthFileset">
      <fieldset class="smallFieldset">
        <legend>Prev. Squeeze</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Up Slope</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Weld</legend>
        T (ms) <input type="number" />
      </fieldset>
      </div>
      <div class="fullwidthFileset">
      <fieldset class="smallFieldset">
        <legend>Prev. Squeeze</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Up Slope</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Weld</legend>
        T (ms) <input type="number" />
      </fieldset>
      </div>
      </div>
      <div class="con">
        <div class="fullwidthFileset">
      <fieldset class="smallFieldset">
        <legend>Prev. Squeeze</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Up Slope</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Weld</legend>
        T (ms) <input type="number" />
      </fieldset>
      </div>
        <div class="fullwidthFileset">
      <fieldset class="smallFieldset">
        <legend>Prev. Squeeze</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Up Slope</legend>
        T (ms) <input type="number" />
      </fieldset>
      <fieldset class="smallFieldset">
        <legend>Weld</legend>
        T (ms) <input type="number" />
      </fieldset>
      </div>
      </div>
      
    </fieldset>
  </div>
  <div class="outer3">
    <fieldset>
      <legend>Feedback</legend>
       <fieldset class="weld1" >
         <legend>Weld-1</legend>
         <table style="width:100%">
            <tr>
                <th>Actual Current:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
                <th>Actual Weld Time:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
                <th>Power Factor:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
              <th>Heat Percentage:</th>
              <th><input type="text"/></th>
            </tr>
         </table>
      </fieldset>
      <fieldset class="weld2">
         <legend>Weld-2</legend>
         <table style="width:100%">
            <tr>
                <th>Actual Current:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
                <th>Actual Weld Time:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
                <th>Power Factor:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
              <th>Heat Percentage:</th>
              <th><input type="text"/></th>
            </tr>
         </table>
      </fieldset>
      <fieldset class="weld3">
         <legend>Weld-3</legend>
         <table style="width:100%">
            <tr>
                <th>Actual Current:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
                <th>Actual Weld Time:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
                <th>Power Factor:</th>
                <th><input type="text"/></th>
            </tr>
            <tr>
              <th>Heat Percentage:</th>
              <th><input type="text"/></th>
            </tr>
         </table>
      </fieldset>
    </fieldset>
  </div>
  <div class="buttonContainer">
    <button>New Program</button>
    <button>Import Program</button>
    <button>Copy Program</button>
    <button>Save Program</button>
    <button>Send Program</button>
    <button>Backup</button>
    <button>Global Setting</button>
    <button>Service</button>
    <button>Networking</button>
    <button>Sequence PV</button>
  </div>
<script>
  $(document).ready(function() {
    var thickness = $("#thickness");
    $("select").change(function() {
      // alert("values changing");
      // alert(this.value);
    });
    $("button").click(function() {
      alert("this will work soon!");
    });

    $("#sheetType").on("change", function() {
          var sheetType = $(this).val();
          var MildOptions = [
            "",
            "0.5-0.5",
            "0.5-0.8",
            "0.5-1",
            "0.5-1.2",
            "0.5-1.5",
            "0.5-1.8",
            "0.5-2",
            "0.5-2.2",
            "0.5-2.5",
            "0.5-3",
            "0.5-3.5",
            "0.5-4",
            "0.5-4.5",
            "0.5-5",
            "0.8-0.8",
            "0.8-1",
            "0.8-1.2",
            "0.8-1.5",
            "0.8-1.8",
            "0.8-2",
            "0.8-2.2",
            "0.8-2.5",
            "0.8-3",
            "0.8-3.5",
            "0.8-4",
            "0.8-4.5",
            "0.8-5",
            "1-1",
            "1-1.2",
            "1-1.5",
            "1-1.8",
            "1-2",
            "1-2.2",
            "1-2.5",
            "1-3",
            "1-3.5",
            "1-4",
            "1-4.5",
            "1-5",
            "1.2-1.2",
            "1.2-1.5",
            "1.2-1.8",
            "1.2-2",
            "1.2-2.2",
            "1.2-2.5",
            "1.2-3",
            "1.2-3.5",
            "1.2-4",
            "1.2-4.5",
            "1.2-5",
            "1.5-1.5",
            "1.5-1.8",
            "1.5-2",
            "1.5-2.2",
            "1.5-2.5",
            "1.5-3",
            "1.5-3.5",
            "1.5-4",
            "1.5-4.5",
            "1.5-5",
            "1.8-1.8",
            "1.8-2",
            "1.8-2.2",
            "1.8-2.5",
            "1.8-3",
            "1.8-3.5",
            "1.8-4",
            "1.8-4.5",
            "1.8-5",
            "2-2",
            "2-2.2",
            "2-2.5",
            "2-3",
            "2-3.5",
            "2-4",
            "2-4.5",
            "2-5",
            "2.2-2.2",
            "2.2-2.5",
            "2.2-3",
            "2.2-3.5",
            "2.2-4",
            "2.2-4.5",
            "2.2-5",
            "2.5-2.5",
            "2.5-3",
            "2.5-3.5",
            "2.5-4",
            "2.5-4.5",
            "2.5-5",
            "3-3",
            "3-3.5",
            "3-4",
            "3-4.5",
            "3-5",
            "4-4",
            "4-4.5",
            "4-5",
            "4.5-4.5",
            "4.5-5",
            "5-5"
          ];
          var GIsheetOptions = ['4','5','6'];
          var defaultOptions = ['select'];

          if(sheetType == 1)
          {
            $("#thickness").empty();

            for (var i = 0; i < MildOptions.length; i++) {
              var option = $("<option>");
              option.text(MildOptions[i]);
              option.val(MildOptions[i]);
              $("#thickness").append(option);
              
            }

          }
          else if(sheetType == 2)
          {
            $("#thickness").empty();
            for (var i = 0; i < GIsheetOptions.length; i++) {
              var option = $("<option>");
              option.text(GIsheetOptions[i]);
              option.val(GIsheetOptions[i]);
              $("#thickness").append(option);
            }
          }
          else {
            $("#thickness").empty();
            for (var i = 0; i < defaultOptions.length; i++) {
              var option = $("<option>");
              option.text(defaultOptions[i]);
              option.val(defaultOptions[i]);
              $("#thickness").append(option);
            }
          }

    

      
    })
    
    // $.get("data.json", function(data) {
    //   console.log(data);
    //   let jsonData = JSON.parse(data);
    //   window.localStorage.setItem("data",JSON.stringify(jsonData));
    // })

    $("#thickness").on("change",function() {
      const data = window.localStorage.getItem("data");
      let rawData = JSON.parse(data);    
      const product = search(rawData, this.value);
      console.log(product);
      if(product)
      {
        $("#current").val(product.current);
        $("#weldTime").val(product.weldTime);
        $("#force").val(product.force);
        $("#teatStrength").val(product.tearStrength);
        $("#Nugget").val(product.nuggetDia);
        $("#Electron").val(product.electrodDia);
        $("#minSpot").val(product.spotDistance);
        $("#minSheetOverlap").val(product.sheetOverlap);
      }
      else{
        $("#current").val("");
        $("#weldTime").val("");
        $("#force").val("");
        $("#teatStrength").val("");
        $("#Nugget").val("");
        $("#Electron").val("");
        $("#minSpot").val("");
        $("#minSheetOverlap").val("");
      }
    })

      function search(data, criteria) {
          for (let i = 0; i < data.products.length; i++) {
            const product = data.products[i];
          if (product.combination === criteria ) {
              return product;
            }
          }
          return null;
      }

      // function loadJSONFile(file) {
      //   let promise = new Promise((resolve, reject) => {
      //     let xhr = new XMLHttpRequest();

      //     xhr.open("GET", file, true);

      //     xhr.onload = () => {
      //       if (xhr.status === 200) {
      //         let data = xhr.responseText;

      //         let jsonData = JSON.parse(data);
      //         console.log(jsonData);

      //         resolve(jsonData);
      //       } else {
              
      //       }
      //     };

      //     xhr.onerror = () => {
            
      //     };

      //     xhr.send();
      //   });

      //   return promise;
      // }

      
      $(".weld1").hide();
      $(".weld3").hide();

      $("#monitoring").change(function() {
        if(this.value == "Miix")
        {
          $(".weld1").show();
          $(".weld3").show();
        }
        else{
          $(".weld1").hide();
          $(".weld3").hide();
        }
      })
      
      
    
    
    
  })
</script>



